{"ast":null,"code":"import React from\"react\";import Cookies from\"universal-cookie\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import Home from\"../Sites/home\";import Details from\"../Sites/details\";import Logo from\"../img/logo-removebg-preview.png\";export default function LoginSite(){var cookies=new Cookies();fetch(\"http://185.50.193.81:5001/api/session/verify\",{method:\"GET\",headers:{Authorization:\"Bearer \"+cookies.get(\"sessionKey\"),\"Content-Type\":\"application/json\"}}).then(function(response){return response.text();}).then(function(response){if(response.includes(\"the given key is still valid for another\")){}else{window.location.href=\"/login\";}});return React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"side-bar\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col col-12\"},React.createElement(\"img\",{src:Logo}))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col col-12 menu\"},React.createElement(\"ul\",null,React.createElement(\"li\",null,React.createElement(\"a\",{className:isActive(\"/\"),onClick:redirect.bind(this),\"data-url\":\"/\"},\"Forside\")),React.createElement(\"li\",null,React.createElement(\"a\",{className:isActive(\"/details\"),onClick:redirect.bind(this),\"data-url\":\"/details\"},\"Detaljer\")),React.createElement(\"li\",null,React.createElement(\"a\",{onClick:signout},\"Log Ud\")))))),React.createElement(\"div\",{className:\"col\"},React.createElement(Router,null,React.createElement(Switch,null,React.createElement(Route,{path:\"/details\"},React.createElement(Details,null)),React.createElement(Route,{path:\"/\"},React.createElement(Home,null)))))));function signout(){cookies.remove(\"sessionKey\");cookies.remove(\"expirationDate\");window.location.href=\"/login\";}function redirect(e){window.location.href=e.currentTarget.dataset.url;}function isActive(value){if(value===window.location.pathname){return\"active\";}return\"\";}}","map":{"version":3,"sources":["C:/Users/SkraptZz/Documents/GitHub/portal.xpower.dk/src/Sitelayouts/default-site.jsx"],"names":["React","Cookies","BrowserRouter","Router","Switch","Route","Home","Details","Logo","LoginSite","cookies","fetch","method","headers","Authorization","get","then","response","text","includes","window","location","href","isActive","redirect","bind","signout","remove","e","currentTarget","dataset","url","value","pathname"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,kCAAjB,CAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAClC,GAAMC,CAAAA,OAAO,CAAG,GAAIT,CAAAA,OAAJ,EAAhB,CAEAU,KAAK,CAAC,8CAAD,CAAiD,CACpDC,MAAM,CAAE,KAD4C,CAEpDC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYJ,OAAO,CAACK,GAAR,CAAY,YAAZ,CADpB,CAEP,eAAgB,kBAFT,CAF2C,CAAjD,CAAL,CAOGC,IAPH,CAOQ,SAAAC,QAAQ,CAAI,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CATH,EAUGF,IAVH,CAUQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACE,QAAT,CAAkB,0CAAlB,CAAJ,CAAmE,CAClE,CADD,IACO,CACLC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACD,CACF,CAfH,EAgBA,MACE,4BAAK,SAAS,CAAC,iBAAf,EACE,2BAAK,SAAS,CAAC,KAAf,EACE,2BAAK,SAAS,CAAC,UAAf,EACE,2BAAK,SAAS,CAAC,KAAf,EACE,2BAAK,SAAS,CAAC,YAAf,EACE,2BAAK,GAAG,CAAEd,IAAV,EADF,CADF,CADF,CAME,2BAAK,SAAS,CAAC,KAAf,EACE,2BAAK,SAAS,CAAC,iBAAf,EACE,8BACE,8BACE,yBACE,SAAS,CAAEe,QAAQ,CAAC,GAAD,CADrB,CAEE,OAAO,CAAEC,QAAQ,CAACC,IAAT,CAAc,IAAd,CAFX,CAGE,WAAS,GAHX,YADF,CADF,CAUE,8BACE,yBACE,SAAS,CAAEF,QAAQ,CAAC,UAAD,CADrB,CAEE,OAAO,CAAEC,QAAQ,CAACC,IAAT,CAAc,IAAd,CAFX,CAGE,WAAS,UAHX,aADF,CAVF,CAmBE,8BACE,yBAAG,OAAO,CAAEC,OAAZ,WADF,CAnBF,CADF,CADF,CANF,CADF,CAmCE,2BAAK,SAAS,CAAC,KAAf,EACE,oBAAC,MAAD,MACE,oBAAC,MAAD,MACE,oBAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,EACE,oBAAC,OAAD,MADF,CADF,CAIE,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,EACE,oBAAC,IAAD,MADF,CAJF,CADF,CADF,CAnCF,CADF,CADF,CAqDA,QAASA,CAAAA,OAAT,EAAmB,CACjBhB,OAAO,CAACiB,MAAR,CAAe,YAAf,EACAjB,OAAO,CAACiB,MAAR,CAAe,gBAAf,EACAP,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACD,CAED,QAASE,CAAAA,QAAT,CAAkBI,CAAlB,CAAqB,CACnBR,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBM,CAAC,CAACC,aAAF,CAAgBC,OAAhB,CAAwBC,GAA/C,CACD,CAED,QAASR,CAAAA,QAAT,CAAkBS,KAAlB,CAAyB,CACvB,GAAIA,KAAK,GAAKZ,MAAM,CAACC,QAAP,CAAgBY,QAA9B,CAAwC,CACtC,MAAO,QAAP,CACD,CACD,MAAO,EAAP,CACD,CACF","sourcesContent":["import React from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"../Sites/home\";\r\nimport Details from \"../Sites/details\";\r\nimport Logo from \"../img/logo-removebg-preview.png\";\r\n\r\nexport default function LoginSite() {\r\n  const cookies = new Cookies();\r\n\r\n  fetch(\"http://185.50.193.81:5001/api/session/verify\", {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + cookies.get(\"sessionKey\"),\r\n      \"Content-Type\": \"application/json\"\r\n    }\r\n  })\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(response => {\r\n      if (response.includes(\"the given key is still valid for another\")) {\r\n      } else {\r\n        window.location.href = \"/login\";\r\n      }\r\n    });\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"side-bar\">\r\n          <div className=\"row\">\r\n            <div className=\"col col-12\">\r\n              <img src={Logo}></img>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col col-12 menu\">\r\n              <ul>\r\n                <li>\r\n                  <a\r\n                    className={isActive(\"/\")}\r\n                    onClick={redirect.bind(this)}\r\n                    data-url=\"/\"\r\n                  >\r\n                    Forside\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a\r\n                    className={isActive(\"/details\")}\r\n                    onClick={redirect.bind(this)}\r\n                    data-url=\"/details\"\r\n                  >\r\n                    Detaljer\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a onClick={signout}>Log Ud</a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <Router>\r\n            <Switch>\r\n              <Route path=\"/details\">\r\n                <Details />\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <Home />\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  function signout() {\r\n    cookies.remove(\"sessionKey\");\r\n    cookies.remove(\"expirationDate\");\r\n    window.location.href = \"/login\";\r\n  }\r\n\r\n  function redirect(e) {\r\n    window.location.href = e.currentTarget.dataset.url;\r\n  }\r\n\r\n  function isActive(value) {\r\n    if (value === window.location.pathname) {\r\n      return \"active\";\r\n    }\r\n    return \"\";\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}