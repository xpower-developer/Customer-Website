{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SkraptZz\\\\Documents\\\\GitHub\\\\portal.xpower.dk\\\\src\\\\Sitelayouts\\\\default-site.jsx\";\nimport React from \"react\";\nimport Cookies from \"universal-cookie\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"../Sites/home\";\nimport Details from \"../Sites/details\";\nimport Logo from \"../img/logo-removebg-preview.png\";\nexport default function LoginSite() {\n  const cookies = new Cookies();\n  fetch(\"http://185.50.193.81:5001/api/session/verify\", {\n    method: \"GET\",\n    headers: {\n      Authorization: \"Bearer \" + cookies.get(\"sessionKey\"),\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => {\n    return response.text();\n  }).then(response => {\n    console.log(response);\n\n    if (response.includes(\"the given key is still valid for another\")) {\n      console.log(\"Valid!\");\n      return React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"side-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: Logo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-12 menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: isActive(\"/\"),\n        onClick: redirect.bind(this),\n        \"data-url\": \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Forside\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: isActive(\"/details\"),\n        onClick: redirect.bind(this),\n        \"data-url\": \"/details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Detaljer\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: signout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Log Ud\")))))), React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Details, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(Route, {\n        path: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Home, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })))))));\n    } else {\n      console.log(\"NOT Valid!\");\n      window.location.href = \"/login\";\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });\n    }\n  });\n\n  function signout() {\n    cookies.remove(\"sessionKey\");\n    cookies.remove(\"expirationDate\");\n    window.location.href = \"/login\";\n  }\n\n  function redirect(e) {\n    window.location.href = e.currentTarget.dataset.url;\n  }\n\n  function isActive(value) {\n    if (value === window.location.pathname) {\n      return \"active\";\n    }\n\n    return \"\";\n  }\n}","map":{"version":3,"sources":["C:/Users/SkraptZz/Documents/GitHub/portal.xpower.dk/src/Sitelayouts/default-site.jsx"],"names":["React","Cookies","BrowserRouter","Router","Switch","Route","Home","Details","Logo","LoginSite","cookies","fetch","method","headers","Authorization","get","then","response","text","console","log","includes","isActive","redirect","bind","signout","window","location","href","remove","e","currentTarget","dataset","url","value","pathname"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"../Sites/home\";\r\nimport Details from \"../Sites/details\";\r\nimport Logo from \"../img/logo-removebg-preview.png\";\r\n\r\nexport default function LoginSite() {\r\n  const cookies = new Cookies();\r\n\r\n  fetch(\"http://185.50.193.81:5001/api/session/verify\", {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + cookies.get(\"sessionKey\"),\r\n      \"Content-Type\": \"application/json\"\r\n    }\r\n  })\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(response => {\r\n      console.log(response);\r\n      if (response.includes(\"the given key is still valid for another\")) {\r\n        console.log(\"Valid!\");\r\n        return (\r\n          <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n              <div className=\"side-bar\">\r\n                <div className=\"row\">\r\n                  <div className=\"col col-12\">\r\n                    <img src={Logo}></img>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col col-12 menu\">\r\n                    <ul>\r\n                      <li>\r\n                        <a\r\n                          className={isActive(\"/\")}\r\n                          onClick={redirect.bind(this)}\r\n                          data-url=\"/\"\r\n                        >\r\n                          Forside\r\n                        </a>\r\n                      </li>\r\n                      <li>\r\n                        <a\r\n                          className={isActive(\"/details\")}\r\n                          onClick={redirect.bind(this)}\r\n                          data-url=\"/details\"\r\n                        >\r\n                          Detaljer\r\n                        </a>\r\n                      </li>\r\n                      <li>\r\n                        <a onClick={signout}>Log Ud</a>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col\">\r\n                <Router>\r\n                  <Switch>\r\n                    <Route path=\"/details\">\r\n                      <Details />\r\n                    </Route>\r\n                    <Route path=\"/\">\r\n                      <Home />\r\n                    </Route>\r\n                  </Switch>\r\n                </Router>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else {\r\n        console.log(\"NOT Valid!\");\r\n        window.location.href = \"/login\";\r\n        return <div></div>;\r\n      }\r\n    });\r\n\r\n  function signout() {\r\n    cookies.remove(\"sessionKey\");\r\n    cookies.remove(\"expirationDate\");\r\n    window.location.href = \"/login\";\r\n  }\r\n\r\n  function redirect(e) {\r\n    window.location.href = e.currentTarget.dataset.url;\r\n  }\r\n\r\n  function isActive(value) {\r\n    if (value === window.location.pathname) {\r\n      return \"active\";\r\n    }\r\n    return \"\";\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}