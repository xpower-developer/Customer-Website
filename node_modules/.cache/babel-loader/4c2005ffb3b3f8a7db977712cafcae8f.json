{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SkraptZz\\\\Documents\\\\GitHub\\\\portal.xpower.dk\\\\src\\\\Sites\\\\details.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\nexport default function Details() {\n  const cookies = new Cookies();\n  const [deviceName, setdeviceName] = useState(\"test\");\n  const [dataArray, setdataArray] = useState([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]);\n\n  if (cookies.get(\"currentDeviceID\") === 1) {\n    setdeviceName = \"Kaffemaskine\";\n  } else if (cookies.get(\"currentDeviceID\") === 2) {\n    setdeviceName = \"Væggeur\";\n  }\n\n  useEffect(() => {\n    // Update the document title using the browser API\n    fetch(\"http://185.50.193.81:5001/api/devices/\" + cookies.get(\"currentDeviceID\") + \"/statistics/summarized\", {\n      method: \"GET\",\n      headers: {\n        Authorization: \"Bearer \" + cookies.get(\"sessionKey\"),\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      return response.text();\n    }).then(response => {\n      var jsonData = JSON.parse(response);\n      console.log(jsonData);\n      console.log(jsonData.statistics.items);\n      const tempArray = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      var i;\n\n      for (i = 0; i < jsonData.statistics.items.length; i++) {\n        tempArray[parseInt(jsonData.statistics.items[i].created.split(\"T\")[1].split(\":\")[0])] = parseInt(jsonData.statistics.items[i].value);\n      }\n\n      setdataArray(tempArray);\n      console.log(dataArray); //fetchRan = true;\n    });\n  }, []); // Chart options\n\n  const options = {\n    chart: {\n      type: \"areaspline\",\n      backgroundColor: \"#0000\"\n    },\n    title: {\n      text: \"Strømforbrug for i dag\",\n      style: {\n        color: \"#00f7fc\"\n      }\n    },\n    xAxis: {\n      categories: [\"00\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\"],\n      plotBands: [{\n        // visualize the primetime\n        from: 14.5,\n        to: 19.5,\n        color: \"rgba(217,19,7, .2)\"\n      }]\n    },\n    yAxis: {\n      title: {\n        text: \"Watt\",\n        style: {\n          color: \"#ccc\"\n        }\n      }\n    },\n    tooltip: {\n      shared: true,\n      valueSuffix: \" watt\"\n    },\n    credits: {\n      enabled: false\n    },\n    series: [{\n      name: \"Watt\",\n      data: dataArray\n    }]\n  };\n  return React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col col-12 col-xl-6 offset-xl-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, deviceName, \" - Statistik\"), React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(HighchartsReact, {\n    highcharts: Highcharts,\n    options: options,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  })))));\n}","map":{"version":3,"sources":["C:/Users/SkraptZz/Documents/GitHub/portal.xpower.dk/src/Sites/details.jsx"],"names":["React","useEffect","useState","Cookies","Highcharts","HighchartsReact","Details","cookies","deviceName","setdeviceName","dataArray","setdataArray","get","fetch","method","headers","Authorization","then","response","text","jsonData","JSON","parse","console","log","statistics","items","tempArray","i","length","parseInt","created","split","value","options","chart","type","backgroundColor","title","style","color","xAxis","categories","plotBands","from","to","yAxis","tooltip","shared","valueSuffix","credits","enabled","series","name","data"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport Highcharts from \"highcharts\";\r\nimport HighchartsReact from \"highcharts-react-official\";\r\n\r\nexport default function Details() {\r\n  const cookies = new Cookies();\r\n  const [deviceName, setdeviceName] = useState(\"test\");\r\n  const [dataArray, setdataArray] = useState([\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1\r\n  ]);\r\n\r\n  if (cookies.get(\"currentDeviceID\") === 1) {\r\n    setdeviceName = \"Kaffemaskine\";\r\n  } else if (cookies.get(\"currentDeviceID\") === 2) {\r\n    setdeviceName = \"Væggeur\";\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Update the document title using the browser API\r\n    fetch(\r\n      \"http://185.50.193.81:5001/api/devices/\" +\r\n        cookies.get(\"currentDeviceID\") +\r\n        \"/statistics/summarized\",\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + cookies.get(\"sessionKey\"),\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      }\r\n    )\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(response => {\r\n        var jsonData = JSON.parse(response);\r\n        console.log(jsonData);\r\n        console.log(jsonData.statistics.items);\r\n        const tempArray = [\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0\r\n        ];\r\n\r\n        var i;\r\n        for (i = 0; i < jsonData.statistics.items.length; i++) {\r\n          tempArray[\r\n            parseInt(\r\n              jsonData.statistics.items[i].created.split(\"T\")[1].split(\":\")[0]\r\n            )\r\n          ] = parseInt(jsonData.statistics.items[i].value);\r\n        }\r\n\r\n        setdataArray(tempArray);\r\n        console.log(dataArray);\r\n        //fetchRan = true;\r\n      });\r\n  }, []);\r\n\r\n  // Chart options\r\n  const options = {\r\n    chart: {\r\n      type: \"areaspline\",\r\n      backgroundColor: \"#0000\"\r\n    },\r\n    title: {\r\n      text: \"Strømforbrug for i dag\",\r\n      style: {\r\n        color: \"#00f7fc\"\r\n      }\r\n    },\r\n    xAxis: {\r\n      categories: [\r\n        \"00\",\r\n        \"01\",\r\n        \"02\",\r\n        \"03\",\r\n        \"04\",\r\n        \"05\",\r\n        \"06\",\r\n        \"07\",\r\n        \"08\",\r\n        \"09\",\r\n        \"10\",\r\n        \"11\",\r\n        \"12\",\r\n        \"13\",\r\n        \"14\",\r\n        \"15\",\r\n        \"16\",\r\n        \"17\",\r\n        \"18\",\r\n        \"19\",\r\n        \"20\",\r\n        \"21\",\r\n        \"22\",\r\n        \"23\"\r\n      ],\r\n      plotBands: [\r\n        {\r\n          // visualize the primetime\r\n          from: 14.5,\r\n          to: 19.5,\r\n          color: \"rgba(217,19,7, .2)\"\r\n        }\r\n      ]\r\n    },\r\n    yAxis: {\r\n      title: {\r\n        text: \"Watt\",\r\n        style: {\r\n          color: \"#ccc\"\r\n        }\r\n      }\r\n    },\r\n    tooltip: {\r\n      shared: true,\r\n      valueSuffix: \" watt\"\r\n    },\r\n    credits: {\r\n      enabled: false\r\n    },\r\n    series: [\r\n      {\r\n        name: \"Watt\",\r\n        data: dataArray\r\n      }\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col col-12 col-xl-6 offset-xl-2\">\r\n        <h1>{deviceName} - Statistik</h1>\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <HighchartsReact highcharts={Highcharts} options={options} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}