{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\SkraptZz\\\\Documents\\\\GitHub\\\\portal.xpower.dk\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Component,useState}from\"react\";import Cookies from\"universal-cookie\";import{BrowserRouter as Router,Link}from\"react-router-dom\";import Logo from\"../img/logo-removebg-preview.png\";import ReactDOM from\"react-dom\";export default function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var cookies=new Cookies();function emailChangeHandler(event){var value=event.target.value;setEmail(value);}function passwordChangeHandler(event){var value=event.target.value;setPassword(value);}function signInSubmitHandler(event){event.preventDefault();fetch(\"http://185.50.193.81:5001/api/customer/signin\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(function(response){return response.text();}).then(function(data){if(data[0]===\"{\"){console.log(data);var jsonData=JSON.parse(data);cookies.set(\"sessionKey\",jsonData.key,{path:\"/\"});cookies.set(\"expirationDate\",jsonData.expirationDate,{path:\"/\"});window.location.href=\"/\";}else{ReactDOM.render(React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},data),document.getElementById(\"error-alert\"));}});}function keyDownHandler(e){if(e.key===\"Enter\"){alert(\"Damn!\");//signInSubmitHandler();\n}}return React.createElement(\"div\",{className:\"center-div\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col col-12\"},React.createElement(\"img\",{src:Logo}))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col col-12\",id:\"error-alert\"})),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col col-12\"},React.createElement(\"span\",{id:\"email\",className:\"input-label\"},\"EMAIL\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col col-12\"},React.createElement(\"input\",{type:\"text\",id:\"email\",className:\"w-100\",onChange:emailChangeHandler,onKeyDown:keyDownHandler}))),React.createElement(\"div\",{className:\"m-4\"}),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col col-12\"},React.createElement(\"span\",{id:\"password\",className:\"input-label\"},\"KODEORD\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col col-12\"},React.createElement(\"input\",{type:\"password\",id:\"password\",className:\"w-100\",onChange:passwordChangeHandler,onKeyDown:keyDownHandler}))),React.createElement(\"div\",{className:\"m-4\"}),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col col-8\"},React.createElement(\"span\",{style:{fontSize:13}},\"Har du ikke en konto? \",React.createElement(Link,{to:\"/sign-up\"},\"Opret\"))),React.createElement(\"div\",{className:\"col col-4\"},React.createElement(\"a\",{onClick:signInSubmitHandler,className:\"btn btn-purple\"},\"LOG IND\"))));}","map":{"version":3,"sources":["C:/Users/SkraptZz/Documents/GitHub/portal.xpower.dk/src/Sites/login.jsx"],"names":["React","Component","useState","Cookies","BrowserRouter","Router","Link","Logo","ReactDOM","Login","email","setEmail","password","setPassword","cookies","emailChangeHandler","event","value","target","passwordChangeHandler","signInSubmitHandler","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","text","data","console","log","jsonData","parse","set","key","path","expirationDate","window","location","href","render","document","getElementById","keyDownHandler","e","alert","fontSize"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\r\nimport Logo from \"../img/logo-removebg-preview.png\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const cookies = new Cookies();\r\n\r\n  function emailChangeHandler(event) {\r\n    let value = event.target.value;\r\n    setEmail(value);\r\n  }\r\n  function passwordChangeHandler(event) {\r\n    let value = event.target.value;\r\n    setPassword(value);\r\n  }\r\n\r\n  function signInSubmitHandler(event) {\r\n    event.preventDefault();\r\n\r\n    fetch(\"http://185.50.193.81:5001/api/customer/signin\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password\r\n      })\r\n    })\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(data => {\r\n        if (data[0] === \"{\") {\r\n          console.log(data);\r\n          var jsonData = JSON.parse(data);\r\n          cookies.set(\"sessionKey\", jsonData.key, { path: \"/\" });\r\n          cookies.set(\"expirationDate\", jsonData.expirationDate, {\r\n            path: \"/\"\r\n          });\r\n          window.location.href = \"/\";\r\n        } else {\r\n          ReactDOM.render(\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n              {data}\r\n            </div>,\r\n            document.getElementById(\"error-alert\")\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  function keyDownHandler(e) {\r\n    if (e.key === \"Enter\") {\r\n      alert(\"Damn!\");\r\n      //signInSubmitHandler();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"center-div\">\r\n      <div className=\"row\">\r\n        <div className=\"col col-12\">\r\n          <img src={Logo}></img>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col col-12\" id=\"error-alert\"></div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col col-12\">\r\n          <span id=\"email\" className=\"input-label\">\r\n            EMAIL\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col col-12\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"email\"\r\n            className=\"w-100\"\r\n            onChange={emailChangeHandler}\r\n            onKeyDown={keyDownHandler}\r\n          ></input>\r\n        </div>\r\n      </div>\r\n      <div className=\"m-4\"></div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col col-12\">\r\n          <span id=\"password\" className=\"input-label\">\r\n            KODEORD\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col col-12\">\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            className=\"w-100\"\r\n            onChange={passwordChangeHandler}\r\n            onKeyDown={keyDownHandler}\r\n          ></input>\r\n        </div>\r\n      </div>\r\n      <div className=\"m-4\"></div>\r\n      <div className=\"row\">\r\n        <div className=\"col col-8\">\r\n          <span style={{ fontSize: 13 }}>\r\n            Har du ikke en konto? <Link to=\"/sign-up\">Opret</Link>\r\n          </span>\r\n        </div>\r\n        <div className=\"col col-4\">\r\n          <a onClick={signInSubmitHandler} className=\"btn btn-purple\">\r\n            LOG IND\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}